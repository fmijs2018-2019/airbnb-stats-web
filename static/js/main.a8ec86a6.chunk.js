(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{492:function(e,t,n){e.exports=n.p+"static/media/map_marker.d81d9c97.png"},5784:function(e,t,n){e.exports=n(6186)},5960:function(e,t){},5961:function(e,t){},5962:function(e,t){},5976:function(e,t,n){},6179:function(e,t,n){},6185:function(e,t,n){},6186:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(65),i=n(191),c=n.n(i),l=n(270),u=n(31),s=n(32),d=n(41),p=n(39),h=n(40),g=n(6200),f=n(272),m=n(6203),y=n(104),b=n(6189),E=n(513),v=n(6187),O=n(6188),C=n(28),S=n(463),T="https://fmijs2018-2019.github.io/airbnb-stats-web",k=function(){function e(){Object(u.a)(this,e),this.auth0=void 0,this.auth0=new S.a({domain:"airbnb-stats.eu.auth0.com",audience:"https://airbnb-stats.eu.auth0.com/userinfo",clientID:"jz1zd7BI5Lx5UjcU3Ua62XkVPqvZOuND",redirectUri:T+"/callback",responseType:"token id_token",scope:"openid profile email"}),this.handleAuthentication=this.handleAuthentication.bind(this),this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this)}return Object(s.a)(e,[{key:"signIn",value:function(e){this.auth0.authorize(e)}},{key:"handleAuthentication",value:function(){var e=this;return new Promise(function(t,n){e.auth0.parseHash(function(e,r){return e?n(e):r&&r.idToken?void t(r):n(e)})})}},{key:"signOut",value:function(){this.auth0.logout({returnTo:T,clientID:"jz1zd7BI5Lx5UjcU3Ua62XkVPqvZOuND"})}},{key:"silentAuth",value:function(){var e=this;return new Promise(function(t,n){e.auth0.checkSession({},function(e,r){if(e)return n(e);t(r)})})}}]),e}(),j=new k,R=j,w=function(e){var t=e.auth.expiresAt;return!(!e.auth.idToken||!t)&&(new Date).getTime()<t},x=function(){return function(e){e(P());var t=R.silentAuth();return t.then(function(t){e(F(t)),e(_())}).catch(function(t){e(I(t)),e(_())}),t}},P=function(){return{type:"SILENT_AUTH_START"}},_=function(){return{type:"SILENT_AUTH_END"}},D=function(e){return{type:"AUTH_ERROR",payload:e}},A=function(e){return{type:"AUTH_SUCCESS",payload:e}},I=function(e){return{type:"SILENT_AUTH_ERROR",payload:e}},F=function(e){return{type:"SILENT_AUTH_SUCCESS",payload:e}},N=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).signIn=function(){var e={appState:{redirectUrl:location}};R.signIn(e)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.isAuth,a=t.silentAuthInProgress,o=t.component,i=Object(E.a)(t,["isAuth","silentAuthInProgress","component"]),c=o;return r.createElement(v.a,Object.assign({},i,{render:function(t){return a?r.createElement(L,null):n?r.createElement(c,t):r.createElement(H,{onSignIn:function(){return e.signIn()}})}}))}}]),t}(r.Component),L=function(e){return r.createElement("div",{style:{display:"inline-block",position:"absolute",width:"100px",height:"100px",top:"50%",left:"50%",marginTop:"-50px",marginLeft:"-50px"}},r.createElement(C.e,{color:"primary",size:65}))},H=function(e){return r.createElement("div",null,r.createElement("div",{style:{textAlign:"center",fontSize:"20px",marginTop:"50px"}},"401 Unauthorized"),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("div",{style:{display:"inline-block",margin:"auto"}},r.createElement(C.b,{style:{marginRight:"30px",backgroundColor:"rgba(255, 255, 255, 0.3)"},variant:"outlined",component:function(e){return r.createElement(O.a,Object.assign({to:"/dashboard"},e))}},"Home"),r.createElement(C.b,{style:{backgroundColor:"rgba(255, 255, 255, 0.3)"},variant:"outlined",color:"primary",onClick:function(){return e.onSignIn()}},"LogIn"))))},B=Object(y.b)(function(e){return{silentAuthInProgress:e.auth.silentAuthInProgress,isAuth:w(e)}},null)(N),z=function(e){function t(e){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).call(this,e))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.props.handleAuthentication();case 3:t=e.sent,(n=t.appState)&&n.redirectUrl?this.props.history.replace(n.redirectUrl):this.props.history.replace("/dashboard"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Auth error",e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.createElement(L,null)}}]),t}(r.Component),G=Object(b.a)(z),U=Object(y.b)(function(e){return{}},function(e){return{handleAuthentication:function(){return e(function(e){var t=R.handleAuthentication();return t.then(function(t){e(A(t))}).catch(function(t){e(D(t))}),t})}}})(G),K={locations:null,item:null,fetchListError:null,fetchListingError:null},M=n(139),W=n(36),J=function(e){return{type:"IS_FETCHING",payload:e}},q=n(466),Y=n.n(q),V=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"get",value:function(e,t){var n={},r=xe.getState(),a=r.auth.idToken;return t&&(n=Object(W.a)({},t)),w(r)&&(n.headers={Authorization:"Bearer ".concat(a)}),Y.a.get(e,n).then(function(e){return e.data})}}]),e}(),Z=new V,X=Z,$="https://airbnb-api.azurewebsites.net",Q=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"getLocations",value:function(){return X.get($+"/listings/locations")}},{key:"getFiltersData",value:function(){return X.get($+"/listings/filters-data")}},{key:"getAllListings",value:function(e,t,n,r,a,o,i,c,l,u){var s={params:{skip:e,take:t}};return u&&(s.params.order_by=u),n&&n.length&&(s.params.neighs=n.join(",")),r&&r.length&&(s.params.prop_types=r.join(",")),a&&a.length&&(s.params.room_types=a.join(",")),o&&i&&(s.params.from_date=o,s.params.to_date=i),c&&(s.params.from_price=c),l&&(s.params.to_price=l),X.get($+"/listings",s)}},{key:"getListingDetailed",value:function(e){return X.get("".concat($,"/listings/").concat(e))}}]),e}(),ee=new Q,te=ee,ne=n(161),re=n.n(ne),ae=function(e){return{type:"FETCH_LOCATIONS_SUCCESS",payload:e}},oe=function(e){return{type:"FETCH_LOCATIONS_ERROR",payload:e}},ie=function(e){return{type:"FETCH_LISTING_DETAILED_SUCCESS",payload:e}},ce=function(e){return{type:"FETCH_LISTING_DETAILED_ERROR",payload:e}},le={detailedList:null,ngReports:null,allReports:null,fetchError:null},ue=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"getNeighborhoodsDetailed",value:function(){return X.get($+"/neighborhoods")}},{key:"getReports",value:function(e){return X.get("".concat($,"/neighborhoods/").concat(e,"/reports"))}},{key:"getAllReports",value:function(){return X.get($+"/neighborhoods/reports")}},{key:"getAllNeighborhoodsSimple",value:function(){return X.get($+"/neighborhoods/simple")}},{key:"getAllTypesOfRatingReportsByNgId",value:function(e){return X.get($+"/neighborhoods/".concat(e,"/reports/rating"))}},{key:"getPriceReportsByNgId",value:function(e){return X.get($+"/neighborhoods/".concat(e,"/reports/price"))}},{key:"getAvailabilityReportsByNgId",value:function(e){return X.get($+"/neighborhoods/".concat(e,"/reports/availability"))}}]),e}(),se=new ue,de=se,pe=function(e){return{type:"FETCH_NEIGHBORHOODS_DETAILED_SUCCESS",payload:e}},he=function(e){return{type:"FETCH_NEIGHBORHOODS_ERROR",payload:e}},ge=function(e){return{type:"FETCH_ALL_REPORTS_SUCCESS",payload:e}},fe=function(e){return{type:"FETCH_ALL_REPORTS_ERROR",payload:e}},me={isFetching:!1},ye={roomTypeFilter:{},propertyTypeFilter:{},neighborhoodFilter:{},fetchFiltersDataError:null,fetchListingsError:null,listings:null,pageSize:10,currentPage:0,totalCount:0,numberOfPages:0,orderBy:"",order:"asc"},be={price_asc:1,accommodates_asc:2,rating_asc:3,price_desc:4,accommodates_desc:5,rating_desc:6},Ee=function(e){return{type:"FETCH_TABLE_DATA_SUCCESS",payload:e}},ve=function(e){return{type:"FETCH_TABLE_DATA_ERROR",payload:e}},Oe=function(e){return{type:"FETCH_FILTERS_DATA_SUCCESS",payload:e}},Ce=function(e){return{type:"FETCH_FILTERS_DATA_ERROR",payload:e}},Se=function(e){return JSON.parse(JSON.stringify(e))},Te={silentAuthInProgress:!0},ke=Object(M.combineReducers)({listings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOCATIONS_SUCCESS":return Object(W.a)({},e,{locations:t.payload,fetchListError:null});case"FETCH_LOCATIONS_ERROR":return Object(W.a)({},e,{fetchListError:t.payload,locations:null});case"FETCH_LISTING_DETAILED_SUCCESS":return Object(W.a)({},e,{item:t.payload,fetchListingError:null});case"FETCH_LISTING_DETAILED_ERROR":return Object(W.a)({},e,{item:null,fetchListingError:t.payload})}return e},neighborhoods:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_NEIGHBORHOODS_DETAILED_SUCCESS":return Object(W.a)({},e,{detailedList:t.payload,fetchError:null});case"FETCH_NEIGHBORHOODS_ERROR":return Object(W.a)({},e,{detailedList:null,fetchError:t.payload});case"FETCH_NG_REPORTS_SUCCESS":return Object(W.a)({},e,{ngReports:t.payload,fetchError:null});case"FETCH_NG_REPORTS_ERROR":return Object(W.a)({},e,{ngReports:null,fetchError:t.payload});case"FETCH_ALL_REPORTS_SUCCESS":return Object(W.a)({},e,{allReports:t.payload,fetchError:null});case"FETCH_ALL_REPORTS_ERROR":return Object(W.a)({},e,{allReports:null,fetchError:t.payload})}return e},common:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IS_FETCHING":return Object(W.a)({},e,{isFetching:t.payload})}return e},listingsGrid:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FILTERS_DATA_SUCCESS":return Object(W.a)({},e,t.payload,{fetchFiltersDataError:null});case"FETCH_FILTERS_DATA_ERROR":return Object(W.a)({},e,{fetchFiltersDataError:t.payload,roomTypeFilter:{},propertyTypeFilter:{},neighborhoodFilter:{}});case"SET_NEIGHBORHOODS_FILTER":var n=t.payload,r=n.id,a=n.checked,o=Se(e.neighborhoodFilter);return o[r]&&(o[r].checked=a),Object(W.a)({},e,{neighborhoodFilter:o});case"SET_PROPERTY_TYPES_FILTER":var i=t.payload,c=i.id,l=i.checked,u=Se(e.propertyTypeFilter);return u[c]&&(u[c].checked=l),Object(W.a)({},e,{propertyTypeFilter:u});case"SET_ROOM_TYPES_FILTER":var s=t.payload,d=s.id,p=s.checked,h=Se(e.roomTypeFilter);return h[d]&&(h[d].checked=p),Object(W.a)({},e,{roomTypeFilter:h});case"SET_PAGE":return Object(W.a)({},e,{currentPage:t.payload});case"SET_PAGE_SIZE":return Object(W.a)({},e,{pageSize:t.payload});case"SET_ORDER":return Object(W.a)({},e,{order:t.payload});case"SET_ORDERBY":return Object(W.a)({},e,{orderBy:t.payload});case"SET_FROM_DATE":return Object(W.a)({},e,{fromDate:t.payload});case"SET_TO_DATE":return Object(W.a)({},e,{toDate:t.payload});case"SET_FROM_PRICE":return Object(W.a)({},e,{fromPrice:t.payload});case"SET_TO_PRICE":return Object(W.a)({},e,{toPrice:t.payload});case"CLEAR_FILTERS":var g=Se(e.neighborhoodFilter),f=Se(e.roomTypeFilter),m=Se(e.propertyTypeFilter);return Object.keys(g).forEach(function(e){return g[e].checked=!1}),Object.keys(f).forEach(function(e){return f[e].checked=!1}),Object.keys(m).forEach(function(e){return m[e].checked=!1}),Object(W.a)({},e,{neighborhoodFilter:g,roomTypeFilter:f,propertyTypeFilter:m,fromDate:void 0,toDate:void 0,fromPrice:void 0,toPrice:void 0,orderBy:""});case"FETCH_TABLE_DATA_SUCCESS":var y=t.payload,b=y.total_count,E=y.listings,v=Math.ceil(b/e.pageSize);return v<0&&(v=0),Object(W.a)({},e,{listings:E,numberOfPages:v,totalCount:b});case"FETCH_TABLE_DATA_ERROR":return Object(W.a)({},e,{fetchListingsError:t.payload,listings:null,totalCount:0,numberOfPages:0,currentPage:0})}return e},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_SUCCESS":case"SILENT_AUTH_SUCCESS":var n=t.payload,r=n.idToken,a=n.idTokenPayload,o=n.appState,i=n.expiresIn,c=n.accessToken,l=1e3*i+(new Date).getTime();return Object(W.a)({},e,{authError:null,idToken:r,idTokenPayload:a,appState:o,expiresAt:l,accessToken:c});case"AUTH_ERROR":case"SILENT_AUTH_ERROR":return Object(W.a)({},e,{authError:t.payload,idToken:void 0,expiresAt:void 0,idTokenPayload:void 0});case"SIGN_OUT_SUCCESS":return Object(W.a)({},e,{authError:void 0,idToken:void 0,expiresAt:void 0,idTokenPayload:void 0});case"SILENT_AUTH_END":return Object(W.a)({},e,{silentAuthInProgress:!1});case"SILENT_AUTH_START":return Object(W.a)({},e,{silentAuthInProgress:!0})}return e}}),je=n(467),Re=n(468),we={listings:K,neighborhoods:le,common:me,listingsGrid:ye,auth:Te},xe=Object(M.createStore)(ke,we,Object(Re.composeWithDevTools)(Object(M.applyMiddleware)(je.a))),Pe=n(195),_e=n(295),De=(n(5976),n(492)),Ae=n.n(De),Ie=n(66),Fe=n(254),Ne=n.n(Fe),Le=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({tooltip:{backgroundColor:"white",color:"black",padding:"10px",position:"absolute",zIndex:99999,pointerEvents:"none",opacity:.9,borderRadius:"5px"},icon:{color:"rgb(65, 62, 160);"}})})(function(e){var t=e.ngName,n=e.listCount,a=e.x,o=e.y,i=e.classes,c=i.tooltip,l=i.icon,u={},s="left",d=a,p="top",h=o,g=window,f=g.innerWidth,m=g.innerHeight;return f-a<200&&(s="right",d=f-a),m-o<60&&(p="bottom",h=m-o),u[s]=d,u[p]=h,r.createElement("div",{className:c,style:u},r.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:"10px"}},r.createElement("div",null,r.createElement(Ne.a,{fontSize:"large",classes:{root:l}})),r.createElement("div",null,r.createElement("div",null,t),r.createElement("div",null,"listings: ",n))))}),He=n(6192),Be=n(502),ze=n(145),Ge=n(221),Ue=n(296),Ke=["#00c49f","#ffbb28","#ff8042","#f71348","#413ea0"],Me=function(e){var t=e.width,n=e.height,a=e.ngListingsByType,o=e.cx,i=e.cy,c=e.outerRadius,l=e.innerRadius,u=(t.toString(),a);if(u.length>=5){u=e.ngListingsByType.sort(function(e,t){return t.count-e.count}).slice(0,4);var s=a.sort(function(e,t){return t.count-e.count}).slice(4,a.length).reduce(function(e,t){return e.count+=t.count,e},{id:0,type:"Other",count:0});u.push(s)}return r.createElement(He.a,{width:t,height:n},r.createElement(Be.a,{legendType:"square",dataKey:"count",nameKey:"type",data:u,cy:i,cx:o,innerRadius:l,outerRadius:c,paddingAngle:2,minAngle:1,label:!0},u.map(function(e,t){return r.createElement(ze.a,{fill:Ke[t%Ke.length]})})),r.createElement(Ge.a,{iconSize:8,verticalAlign:"bottom"}),r.createElement(Ue.a,null))},We=n(6193),Je=n(6194),qe=n(189),Ye=n(190),Ve=n(285),Ze=function(e){for(var t=e.byRating,n=e.width,a=e.height,o=e.barSize,i=e.margin,c={},l=-1;l<10;l++)c[l.toString()]={range:l>=0?"".concat(10*l+1,"-").concat(10*(l+1)):"NO",count:0};for(var u=0;u<t.length;u++){var s=t[u];c[s.rating?Math.floor((s.rating-1)/10):-1].count+=s.count}var d=Object.values(c);return r.createElement(We.a,{margin:i,width:n,height:a,data:d},r.createElement(Je.a,{stroke:"#f5f5f5"}),r.createElement(qe.a,{dataKey:"range"}),r.createElement(Ye.a,null),r.createElement(Ue.a,null),r.createElement(Ge.a,{content:function(){return r.createElement("ul",{style:{margin:0,listStyle:"none"}},r.createElement("li",{style:{textAlign:"center"}},"Rating"))},margin:{left:20,right:0},align:"center",verticalAlign:"top"}),r.createElement(Ve.a,{dataKey:"count",barSize:o,fill:"#413ea0"}))},Xe=n(255),$e=n.n(Xe),Qe=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.createElement("div",{className:e.pannel},r.createElement("div",{className:e.closeBtnContainer},r.createElement($e.a,{className:e.closeBtn,onClick:this.props.clickHandler})),r.createElement("div",{className:e.header},this.props.header),r.createElement("div",{className:e.content},this.props.children))}}]),t}(r.Component),et=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({pannel:{width:"300px",borderRadius:"10px",top:"70px",right:"20px",background:"#fff",position:"absolute",display:"flex",flexDirection:"column"},closeBtn:{float:"right",color:"rgba(32, 35, 42, 0.8)",fontSize:"25px",marginTop:"2px",marginRight:"2px","&:hover":{color:"rgba(247, 19, 72, .9)",cursor:"pointer"}},closeBtnContainer:{height:"15px"},content:{margin:"7px 12px 7px 12px",overflowY:"auto",flexGrow:1},header:{fontSize:"1.25em",textAlign:"center",padding:"0 20px 0 20px",color:"rgba(32, 35, 42, 0.9)"}})})(Qe),tt=n(164),nt=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({btn:{color:"rgba(32, 35, 42, 0.9)"},btnDisable:{color:"rgba(0, 0, 0, 0.26)"},dots:{backgroundColor:"rgba(247, 19, 72, .3)"},dotsActive:{backgroundColor:"rgba(247, 19, 72, .8)"}})})(function(e){var t=e.classes,n=e.activeStep,a=e.stepsCount,o=e.handleNext,i=e.handleBack;return r.createElement(C.k,{classes:{dot:t.dots,dotActive:t.dotsActive},variant:"dots",steps:a,position:"static",activeStep:n,nextButton:r.createElement(C.b,{classes:{root:t.btn,disabled:t.btnDisable},size:"small",onClick:o,disabled:n===a-1},"Next",r.createElement(tt.d,null)),backButton:r.createElement(C.b,{classes:{root:t.btn,disabled:t.btnDisable},size:"small",onClick:i,disabled:0===n},r.createElement(tt.c,null),"Back")})}),rt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleNext=function(){n.setState(function(e){return{activeStep:e.activeStep+1}})},n.handleBack=function(){n.setState(function(e){return{activeStep:e.activeStep-1}})},n.header=function(){return r.createElement("div",null,r.createElement("div",null,n.props.ng.name),r.createElement("p",{style:{margin:0,textAlign:"center",fontSize:"15px"}},"listings: "+n.props.listingsCount))},n.state={activeStep:0},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ng,n=e.onClose;e.classes;return r.createElement(et,{header:this.header(),clickHandler:n},0===this.state.activeStep&&r.createElement("div",{style:{width:"274px"}},r.createElement(Ze,{byRating:t.byRating,width:235,height:280,barSize:20})),1===this.state.activeStep&&r.createElement("div",{style:{width:"274px"}},r.createElement(Me,{ngListingsByType:t.byPropType,innerRadius:40,outerRadius:80,cy:110,width:274,height:280})),2===this.state.activeStep&&r.createElement("div",{style:{width:"274px"}},r.createElement(Me,{ngListingsByType:t.byRoomType,innerRadius:40,outerRadius:80,cy:110,width:274,height:280})),r.createElement(nt,{handleBack:this.handleBack,handleNext:this.handleNext,activeStep:this.state.activeStep,stepsCount:3}))}}]),t}(r.Component),at=(r.Component,Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({})})(rt)),ot=n(258),it=n.n(ot),ct=n(213),lt=n.n(ct),ut=n(85),st=n.n(ut),dt=n(138),pt=n.n(dt),ht=n(260),gt=n.n(ht),ft=n(259),mt=n.n(ft),yt=n(148),bt=n.n(yt),Et=n(178),vt=n.n(Et),Ot=n(464),Ct=n(91),St=n.n(Ct),Tt=function(e){return r.createElement(St.a,e,r.createElement("path",{d:"M12.007 0C6.12 0 1.1 4.27.157 10.08c-.944 5.813 2.468 11.45 8.054 13.312.19.064.397.033.555-.084.16-.117.25-.304.244-.5v-2.042c-3.33.735-4.037-1.56-4.037-1.56-.22-.726-.694-1.35-1.334-1.756-1.096-.75.074-.735.074-.735.773.103 1.454.557 1.846 1.23.694 1.21 2.23 1.638 3.45.96.056-.61.327-1.178.766-1.605-2.67-.3-5.462-1.335-5.462-6.002-.02-1.193.42-2.35 1.23-3.226-.327-1.015-.27-2.116.166-3.09 0 0 1.006-.33 3.3 1.23 1.966-.538 4.04-.538 6.003 0 2.295-1.5 3.3-1.23 3.3-1.23.445 1.006.49 2.144.12 3.18.81.877 1.25 2.033 1.23 3.226 0 4.607-2.805 5.627-5.476 5.927.578.583.88 1.386.825 2.206v3.29c-.005.2.092.393.26.507.164.115.377.14.565.063 5.568-1.88 8.956-7.514 8.007-13.313C22.892 4.267 17.884.007 12.008 0z"}))},kt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleDrawer=function(e){return function(){var t=Object(W.a)({},n.state,{isDrawerOpen:e});e&&(t.headerColor="rgba(32, 35, 42)"),n.setState(t)}},n.updateHeaderColorOnClose=function(){n.state.isDrawerOpen||n.setState({headerColor:"rgba(32, 35, 42, 0.8)"})},n.getButtonsList=function(e){return r.createElement(r.Fragment,null,r.createElement(bt.a,{className:e,color:"inherit",component:function(e){return r.createElement(O.a,Object.assign({to:"/dashboard"},e),"Dashboard")}},"Dashboard"),r.createElement(bt.a,{className:e,color:"inherit",component:function(e){return r.createElement(O.a,Object.assign({to:"/listings"},e),"Listings")}},"Listings"),r.createElement(bt.a,{className:e,color:"inherit",component:function(e){return r.createElement(O.a,Object.assign({to:"/reports"},e),"Reports")}},"Reports"))},n.state={isDrawerOpen:!1,headerColor:"rgba(32, 35, 42, 0.8)"},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.isAuth,a=e.onSignOut,o=e.onSignIn,i=e.idTokenPayload,c=e.position,l=this.state,u=l.isDrawerOpen,s=l.headerColor;return r.createElement(r.Fragment,null,r.createElement(it.a,{className:t.navBar,position:c||"fixed",style:{backgroundColor:s}},r.createElement(lt.a,{classes:{root:t.toolbar}},r.createElement(pt.a,{className:t.logoText,variant:"h6",color:"inherit",noWrap:!0},"Amsterdam"),r.createElement(st.a,{className:t.menuList,color:"inherit","aria-label":"Open drawer"},r.createElement(mt.a,{onClick:this.toggleDrawer(!u)})),this.getButtonsList(t.menuItem),r.createElement("div",{className:t.grow}),r.createElement(st.a,{style:{padding:0,color:"white",margin:"0 15px"},target:"_black",href:"https://github.com/fmijs2018-2019"},r.createElement(Tt,{style:{height:"24px",width:"24px"}})),i&&r.createElement(gt.a,{color:"inherit",className:t.avatar,src:i.picture,style:{color:s}}),!n&&r.createElement(bt.a,{onClick:o,className:t.logInOutBtn,color:"inherit"},"LogIn"),n&&r.createElement(bt.a,{onClick:a,className:t.logInOutBtn,color:"inherit"},"LogOut"))),r.createElement(vt.a,{SlideProps:{onExited:this.updateHeaderColorOnClose},classes:{paperAnchorTop:t.drawer},anchor:"top",open:u,onClose:this.toggleDrawer(!1)},r.createElement("div",{tabIndex:0,role:"button",onClick:this.toggleDrawer(!1),onKeyDown:this.toggleDrawer(!1)},this.getButtonsList(t.drawerItem))))}}]),t}(r.Component),jt=Object(Ot.a)(Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({navBar:{width:"100%",backgroundColor:"rgba(32, 35, 42, 0.8)",height:"56px",top:0,zIndex:1301},toolbar:{minHeight:"56px"},grow:{flexGrow:1},nopad:{padding:0},avatar:{backgroundColor:"white",display:"inline-flex",fontSize:"1.35em",width:"40px",height:"40px"},logoText:{paddingRight:"30px",paddingLeft:"0",color:"white",fontWeight:"bold",display:"block","@media screen and (max-width: 700px)":{display:"none"}},menuItem:{display:"block","@media screen and (max-width: 700px)":{display:"none"},textTransform:"none",fontSize:"17px",fontWeight:"normal"},logInOutBtn:{display:"block",textTransform:"none",fontSize:"17px",fontWeight:"normal"},menuList:{display:"none","@media screen and (max-width: 700px)":{display:"block"}},logoIcon:{height:"40px",width:"40px",color:"white",minHeight:"0",minWidth:"0",padding:"0",display:"block","@media screen and (max-width: 700px)":{display:"none"}},drawerItem:{display:"block",color:"white"},drawer:{top:"56px",backgroundColor:"rgba(32, 35, 42, 0.8)"}})})(kt)),Rt=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).signIn=function(){R.signIn()},n.signOut=function(){R.signOut(),n.props.clearAuthState()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isAuth,n=e.idTokenPayload,a=e.children,o=e.position;return r.createElement(r.Fragment,null,r.createElement(jt,{onSignIn:this.signIn,onSignOut:this.signOut,isAuth:t,idTokenPayload:n,position:o}),r.createElement("main",null,a))}}]),t}(r.Component),wt=Object(y.b)(function(e){return{idTokenPayload:e.auth.idTokenPayload,isAuth:w(e)}},function(e){return{clearAuthState:function(){return e({type:"SIGN_OUT_SUCCESS"})}}})(Rt),xt={longitude:4.916651,latitude:52.366693,zoom:11,pitch:0,bearing:0,transitionDuration:1e3,transitionInterpolator:new _e.a},Pt=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).getLayers=function(){var e=n.state,t=e.hoveredNgId,r=e.selectedNgId,a=n.props,o=a.locations,i=a.neighborhoods,c=r&&o&&new Pe.b({id:"icon-layer",pickable:!0,data:o[r],iconAtlas:Ae.a,iconMapping:{marker:{x:150,y:150,width:400,height:400,mask:!0}},sizeScale:4,getPosition:function(e){return[e.lon,e.lat]},getIcon:function(){return"marker"},getSize:function(){return 7},getColor:[247,19,72,200]}),l=n.state.showAllGeoJsons&&i&&new Pe.a({id:"geojson-all-layer",data:re.a.map(i,"geoJson"),pickable:!0,filled:!0,extruded:!1,getFillColor:[0,0,0,0],lineJointRounded:!0,getLineColor:[255,255,255,255],getLineWidth:40,onHover:n.ngHoverHandler,onClick:n.ngClickHandler});return[c,i&&r&&new Pe.a({id:"geoJson-selected-layer",data:i[r].geoJson,stroked:!0,filled:!1,extruded:!1,lineJointRounded:!0,getLineColor:[255,255,255,150],getLineWidth:10}),l,t&&i&&new Pe.a({id:"geoJson-hovered-layer",data:i[t].geoJson,filled:!0,getFillColor:[0,0,0,0],extruded:!1,getLineColor:[7,0,255],getLineWidth:30})]},n.ngHoverHandler=function(e){var t=n.props.locations;if(e.object){var r=e.object.properties.neighbourhood,a=e.object.properties.id,o={ngName:r,listCount:t?t[a].length:0,x:e.x,y:e.y};n.setState({hoveredNgId:e.object.properties.id,tooltipInfo:o})}else n.setState({hoveredNgId:null,tooltipInfo:null})},n.ngClickHandler=function(e){if(e.object){var t=e.object.properties.id;n.setNeighborhood(t)}},n.onViewStateChange=function(e){var t=e.viewState;n.setState({viewState:t})},n.setNeighborhood=function(e){var t=n.props.neighborhoods,r=t&&t[e];if(r){var a={longitude:r.centerLongitude,latitude:r.centerLatitude,zoom:r.zoom,pitch:0,bearing:0,transitionDuration:1e3,transitionInterpolator:new _e.a,onTransitionStart:function(){return n.setState({showAllGeoJsons:!1})},onTransitionEnd:function(){return n.setState({selectedNgId:e})}};n.setState({viewState:a,tooltipInfo:null,hoveredNgId:null})}},n.closeReportsPanelHandler=function(){n.setState({selectedNgId:null,hoveredNgId:null,viewState:Object(W.a)({},xt,{onTransitionEnd:function(){return n.setState({showAllGeoJsons:!0})}})})},n.closeListingPanelHandler=function(){n.props.fetchListingDetailed(null)},n.getSelectedNeighborhood=function(){var e=n.props.neighborhoods,t=n.state.selectedNgId;return t&&e?e[t]:null},n.getNgReports=function(e){var t=n.props.allReports;return e&&t?t[e.id]:null},n.getNgListingsCount=function(e){var t=n.props.locations;return e&&t?t[e.id].length:0},n.state={viewState:xt,selectedNgId:null,hoveredNgId:null,tooltipInfo:null,showAllGeoJsons:!0},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){!this.props.locations&&this.props.fetchLocations(),!this.props.neighborhoods&&this.props.fetchNeighborhoodsDetailed(),!this.props.allReports&&this.props.fetchAllReports()}},{key:"render",value:function(){var e=this.state.tooltipInfo,t=this.getSelectedNeighborhood(),n=this.getNgReports(t),r=this.getNgListingsCount(t);return a.a.createElement(wt,null,a.a.createElement(Pe.c,{viewState:this.state.viewState,layers:this.getLayers(),controller:!0,onViewStateChange:this.onViewStateChange,useDevicePixels:!1},a.a.createElement(_e.b,{mapStyle:"mapbox://styles/mapbox/dark-v9",width:"100%",height:"100%",mapboxApiAccessToken:"pk.eyJ1IjoiZGFuaWVsYXBvc3QiLCJhIjoiY2puZGlpZWNnMDJlbTNxbjdxMGxzMTQ0diJ9.kyabw1ItkRkzxK-UqTqi9g"})),e&&a.a.createElement(Le,e),n&&a.a.createElement(at,{listingsCount:r,ng:n,onClose:this.closeReportsPanelHandler}))}}]),t}(a.a.Component),_t=Object(y.b)(function(e){return{locations:e.listings.locations,neighborhoods:e.neighborhoods.detailedList,allReports:e.neighborhoods.allReports}},function(e){return{fetchLocations:function(){return e(function(e){e(J(!0));var t=te.getLocations();return t.then(function(t){e(ae(ne.groupBy(t,"ngId"))),e(J(!1))}).catch(function(t){e(oe(t)),e(J(!1))}),t})},fetchNeighborhoodsDetailed:function(){return e(function(e){var t=de.getNeighborhoodsDetailed();return t.then(function(t){e(pe(ne.keyBy(t,"id")))}).catch(function(t){e(he(t))}),t})},fetchAllReports:function(){return e(function(e){var t=de.getAllReports();return t.then(function(t){e(ge(ne.keyBy(t,"id")))}).catch(function(t){e(fe(t))}),t})},fetchListingDetailed:function(t){return e(function(e){return function(t){if(e){var n=te.getListingDetailed(e);return n.then(function(e){return t(ie(e))}).catch(function(e){return t(ce(e))}),n}t(ie(null))}}(t))}}})(Pt),Dt=n(261),At=n.n(Dt),It=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({icon:{color:"rosybrown"},root:{border:"1px solid rosybrown"}})})(function(e){var t=e.neighborhood,n=e.classes;return r.createElement(C.d,{classes:n,label:t,icon:r.createElement(At.a,null),variant:"outlined"})}),Ft=n(262),Nt=n.n(Ft),Lt=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({orageChip:{color:"#ffc107",border:"1px solid #ffc107"},orageIcon:{color:"#ffc107"},redChip:{color:"#dc3545",border:"1px solid #dc3545"},redIcon:{color:"#dc3545"},greenChip:{color:"#28a745",border:"1px solid #28a745"},greenIcon:{color:"#28a745"}})})(function(e){var t,n=e.rating,a=e.classes;return t=n>87?{root:a.greenChip,icon:a.greenIcon}:n>68?{root:a.orageChip,icon:a.orageIcon}:{root:a.redChip,icon:a.redIcon},r.createElement(C.d,{classes:t,label:"".concat(n,"/100"),icon:r.createElement(Nt.a,null),variant:"outlined"})}),Ht=n(265),Bt=n.n(Ht),zt=n(264),Gt=n.n(zt),Ut=n(263),Kt=n.n(Ut),Mt=function(e){var t,n=e.type,a=n.roomType,o=n.propertyType;return t="Entire home/apt"===a?r.createElement(Kt.a,{fontSize:"large",style:{marginRight:"5px",color:"#60cfdb"}}):"Private room"===a?r.createElement(Gt.a,{style:{marginRight:"5px",color:"rgb(255, 123, 152)"},fontSize:"large"}):r.createElement(Bt.a,{style:{marginRight:"5px",color:"gray"},fontSize:"large"}),r.createElement("div",{style:{display:"flex",alignItems:"center"}},r.createElement("div",null,t),r.createElement("div",null,r.createElement("div",null,a),r.createElement("div",null,o)))},Wt=n(10),Jt=n.n(Wt),qt=n(266),Yt=n.n(qt),Vt=n(256),Zt=n.n(Vt),Xt=n(257),$t=n.n(Xt),Qt=n(267),en=n.n(Qt),tn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleFirstPageButtonClick=function(e){n.props.onChangePage(e,0)},n.handleBackButtonClick=function(e){n.props.onChangePage(e,n.props.page-1)},n.handleNextButtonClick=function(e){n.props.onChangePage(e,n.props.page+1)},n.handleLastPageButtonClick=function(e){var t=Math.max(0,Math.ceil(n.props.count/n.props.rowsPerPage)-1);n.props.onChangePage(e,t)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.count,a=e.page,o=e.rowsPerPage;return r.createElement("div",{className:t.root},r.createElement(st.a,{classes:{root:t.button},onClick:this.handleFirstPageButtonClick,disabled:0===a,"aria-label":"First Page"},r.createElement(Yt.a,null)),r.createElement(st.a,{classes:{root:t.button},onClick:this.handleBackButtonClick,disabled:0===a,"aria-label":"Previous Page"},r.createElement(Zt.a,null)),r.createElement(st.a,{classes:{root:t.button},onClick:this.handleNextButtonClick,disabled:a>=Math.ceil(n/o)-1,"aria-label":"Next Page"},r.createElement($t.a,null)),r.createElement(st.a,{classes:{root:t.button},onClick:this.handleLastPageButtonClick,disabled:a>=Math.ceil(n/o)-1,"aria-label":"Last Page"},r.createElement(en.a,null)))}}]),t}(r.Component),nn=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({root:{flexShrink:0,color:e.palette.text.secondary,marginLeft:2.5*e.spacing.unit},button:{padding:"6px"}})})(tn),rn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).handleChangePage=function(e,t){n.props.onPageChange(t)},n.handleChangeRowsPerPage=function(e){n.props.onPageSizeChange(e.target.value)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rowsPerPage,n=e.page,a=e.pagesCount,o=e.classes,i=e.className,c=Jt()(o.root,i);return r.createElement(C.m,{classes:{root:c},rowsPerPageOptions:[5,10,20],colSpan:3,count:a,rowsPerPage:t,page:n,onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage,ActionsComponent:nn})}}]),t}(r.Component),an=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({root:{border:"none"}})})(rn),on=n(294),cn=n(179),ln=n.n(cn),un=n(268),sn=n.n(un),dn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).getRowClassName=function(e){e.index;var t=n.props,r=t.classes,a=t.rowClassName;return Jt()(r.tableRow,r.flexContainer,a)},n.cellRenderer=function(e,t){var a=n.props,o=a.classes,i=a.rowHeight,c=t.renderCell?t.renderCell(e):e.cellData;return r.createElement(C.l,{component:"div",className:Jt()(o.tableCell,o.flexContainer),variant:"body",style:{height:i},align:"left"},c||"-")},n.createSortHandler=function(e){return function(t){var r="desc";n.props.orderBy===e&&"desc"===n.props.order&&(r="asc"),n.props.onSort&&n.props.onSort(e,r)}},n.headerRenderer=function(e,t){var a=e.label,o=e.dataKey,i=n.props,c=i.orderBy,l=i.order,u=i.headerHeight,s=i.classes,d=i.sortable,p=c===o,h=!t.disableSort&&d?r.createElement(C.o,{title:"Order by ".concat(o),placement:"top-end",enterDelay:300},r.createElement(C.n,{classes:{icon:p?s.sortLabelIcon:s.sortLabelIconWithoutTransition},active:p,direction:l,onClick:n.createSortHandler(o),IconComponent:p?ln.a:sn.a},a)):a;return r.createElement(C.l,{component:"div",className:Jt()(s.tableCell,s.flexContainer,s.noClick),variant:"head",style:{height:u},align:"left"},h)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.columns,o=t.headerHeight,i=t.rowHeight,c=t.onRowClick,l=t.rowGetter,u=t.rowCount;return r.createElement(on.a,null,function(t){var s=t.height,d=t.width;return r.createElement(on.c,{headerHeight:o,rowHeight:i,rowGetter:l,rowCount:u,onRowClick:c,className:n.table,height:s,width:d,rowClassName:e.getRowClassName},a.map(function(t){var a=t.dataKey,o=t.flexGrow,i=t.width,c=t.label;return r.createElement(on.b,{key:a,headerRenderer:function(n){return e.headerRenderer(n,t)},className:Jt()(n.flexContainer),cellRenderer:function(n){return e.cellRenderer(n,t)},dataKey:a,flexGrow:o,width:i,label:c})}))})}}]),t}(r.Component),pn=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({table:{fontFamily:e.typography.fontFamily},flexContainer:{display:"flex",alignItems:"center",boxSizing:"border-box"},tableRow:{cursor:"pointer"},tableRowHover:{"&:hover":{backgroundColor:e.palette.grey[200]}},tableCell:{flex:1},noClick:{cursor:"initial"},sortLabelIcon:{display:"inline",opacity:1},sortLabelIconWithoutTransition:{display:"inline",opacity:1,transition:"none"}})})(dn),hn=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({badge:{top:0,right:"-20px",fontSize:"0.9rem"}})})(function(e){var t=e.accommodates,n=e.classes;return r.createElement(C.a,{badgeContent:"x".concat(t),color:"default",classes:n},r.createElement(tt.b,null))}),gn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(o)))).onPageSizeChange=function(e){n.props.onPageSizeChange(e)},n.onPageChange=function(e){n.props.onPageChange(e)},n.getColumns=function(){return[{width:180,label:"Type",dataKey:"type",renderCell:function(e){var t=e.cellData;return t&&r.createElement(Mt,{type:t})},disableSort:!0},{width:250,label:"Name",dataKey:"name",flexGrow:1,disableSort:!0},{width:120,label:"Price",dataKey:"price",renderCell:function(e){var t=e.cellData;return t&&r.createElement("div",null,"$",t.toFixed(2))}},{width:300,label:"Neighborhood",dataKey:"neighborhood",flexGrow:1,renderCell:function(e){var t=e.cellData;return t&&r.createElement(It,{neighborhood:t})},disableSort:!0},{width:140,label:"Accommodates",dataKey:"accommodates",renderCell:function(e){var t=e.cellData;return t&&r.createElement(hn,{accommodates:t})}},{width:130,label:"Rating",dataKey:"rating",renderCell:function(e){var t=e.cellData;return t&&r.createElement(Lt,{rating:t})}}]},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.listings,n=e.classes,a=e.order,o=e.orderBy,i=this.getColumns();return r.createElement(r.Fragment,null,r.createElement("div",{style:{width:"100%",padding:"20px 0 20px 20px",boxSizing:"border-box"}},r.createElement(C.p,{variant:"h5"},"Listings"),r.createElement("p",{style:{margin:"initial",color:"gray",fontSize:"14px"}},this.props.totalCount," listings found")),r.createElement("div",{style:{overflowX:"auto",width:"100%",borderTop:"1px solid rgba(224, 224, 224, 1)"}},r.createElement("div",{style:{height:"500px",width:"auto",minWidth:"1140px",padding:"1px",margin:"auto"}},r.createElement(pn,{sortable:!0,rowClassName:"",rowHeight:70,headerHeight:56,rowCount:t.length,rowGetter:function(e){var n=e.index;return t[n]},onRowClick:function(e){return console.log(e)},columns:i,order:a,orderBy:o,onSort:this.props.onSort}))),r.createElement("div",{style:{width:"100%"}},r.createElement(an,{className:n.paging,page:this.props.currentPage,pagesCount:this.props.numberOfPages,rowsPerPage:this.props.pageSize,onPageChange:this.onPageChange,onPageSizeChange:this.onPageSizeChange})))}}]),t}(r.Component),fn=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({paging:{float:"right"}})})(gn),mn=n(288),yn=Object(Ie.createStyles)({root:{margin:0,boxShadow:"none","&:before":{display:"none"}},panelDetails:{maxHeight:"150px",overflowY:"auto",width:"100%"}}),bn=Object(Ie.withStyles)(yn)(function(e){var t=e.expanded,n=e.onChange,a=e.summary,o=e.children,i=e.classes,c=e.className,l=Jt()(i.root,c);return r.createElement(C.f,{className:l,expanded:t,onChange:function(e,t){return n(t)}},r.createElement(C.h,{expandIcon:r.createElement(ln.a,null)},a),r.createElement(C.g,null,r.createElement("div",{className:i.panelDetails},o)))}),En=n(146),vn=n.n(En),On=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.from,a=e.to,o=e.fromChangeHandler,i=e.toChangeHandler;return r.createElement(r.Fragment,null,r.createElement("form",{className:t.container,noValidate:!0},r.createElement(vn.a,{id:"date",label:"From",type:"date",value:n||"",InputProps:{},onChange:function(e){return o(e.target.value)},className:t.textField,InputLabelProps:{shrink:!0}})),r.createElement("br",null),r.createElement("form",{className:t.container,noValidate:!0},r.createElement(vn.a,{id:"date",label:"To",type:"date",value:a||"",onChange:function(e){return i(e.target.value)},className:t.textField,InputLabelProps:{shrink:!0}})))}}]),t}(r.Component),Cn=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200}})})(On),Sn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onToChange,n=e.onFromChange,a=e.from,o=e.to;return r.createElement("div",{style:{width:"100%"}},r.createElement(vn.a,{id:"standart-number",value:a||"",onChange:function(e){n(e.target.value)},type:"number",label:"From",placeholder:"$",InputProps:{style:{display:"inline",marginRight:"15px"}},inputProps:{style:{width:"75px",padding:"7px"}},InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}),r.createElement(vn.a,{id:"standart-number",value:o||"",onChange:function(e){t(e.target.value)},type:"number",placeholder:"$",label:"To",InputProps:{style:{display:"inline"}},inputProps:{style:{width:"75px",padding:"7px"}},InputLabelProps:{shrink:!0},margin:"normal",variant:"outlined"}))}}]),t}(r.Component),Tn=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).createOnExpandHandler=function(e){return function(t){n.setState({expanded:t?e:""})}},n.onNeighborhoodChange=function(e){return function(t,r){n.props.onNgChange(e,r)}},n.onPropertyTypeChange=function(e){return function(t,r){n.props.onPTChange(e,r)}},n.onRoomTypeChange=function(e){return function(t,r){n.props.onRTChange(e,r)}},n.getFiltersCount=function(e){var t=0;return Object.keys(e).forEach(function(n){e[n].checked&&t++}),t},n.state={expanded:"panel2"},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.onApply,o=t.onClear,i=t.fromDate,c=t.toDate,l=t.fromPrice,u=t.toPrice,s=t.onFromDateChange,d=t.onToDateChange,p=t.onFromPriceChange,h=t.onToPriceChange,g=t.filters,f=g.neighborhoodFilter,m=g.roomTypeFilter,y=g.propertyTypeFilter,b=this.state.expanded,E=this.getFiltersCount(f),v=this.getFiltersCount(m),O=this.getFiltersCount(y);return a.a.createElement(a.a.Fragment,null,a.a.createElement(bn,{className:n.expansionPanel,expanded:"panel1"===b,onChange:this.createOnExpandHandler("panel1"),summary:a.a.createElement(C.a,{badgeContent:E,color:"primary",invisible:0===E},a.a.createElement(C.p,null,"Neighborhood"))},Object.keys(f).map(function(t){var r=f[t];return a.a.createElement("div",{key:t,className:n.checkbox},a.a.createElement(C.i,{control:a.a.createElement(C.c,{checked:r.checked,onChange:e.onNeighborhoodChange(t),color:"primary",value:t}),label:r.name}))})),a.a.createElement(bn,{className:n.expansionPanel,expanded:"panel2"===b,onChange:this.createOnExpandHandler("panel2"),summary:a.a.createElement(C.a,{badgeContent:v,color:"primary",invisible:0===v},a.a.createElement(C.p,null,"Room Type"))},Object.keys(m).map(function(t){var r=m[t];return a.a.createElement("div",{key:t,className:n.checkbox},a.a.createElement(C.i,{control:a.a.createElement(C.c,{checked:r.checked,onChange:e.onRoomTypeChange(t),color:"primary",value:t}),label:r.type}))})),a.a.createElement(bn,{className:n.expansionPanel,expanded:"panel3"===b,onChange:this.createOnExpandHandler("panel3"),summary:a.a.createElement(C.a,{badgeContent:O,color:"primary",invisible:0===O},a.a.createElement(C.p,null,"Property Type"))},Object.keys(y).map(function(t){var r=y[t];return a.a.createElement("div",{key:t,className:n.checkbox},a.a.createElement(C.i,{control:a.a.createElement(C.c,{checked:r.checked,onChange:e.onPropertyTypeChange(t),color:"primary",value:t}),label:r.type}))})),a.a.createElement(bn,{className:n.expansionPanel,expanded:"panel4"===b,onChange:this.createOnExpandHandler("panel4"),summary:a.a.createElement(C.p,null,"Availability Range")},a.a.createElement(Cn,{from:i,to:c,fromChangeHandler:s,toChangeHandler:d})),a.a.createElement(bn,{className:n.expansionPanelLast,expanded:"panel5"===b,onChange:this.createOnExpandHandler("panel5"),summary:a.a.createElement(C.p,null,"Price Range")},a.a.createElement(Sn,{onFromChange:p,onToChange:h,from:l,to:u})),a.a.createElement(C.b,{variant:"outlined",color:"primary",onClick:o,className:n.button},"Clear"),a.a.createElement(C.b,{variant:"contained",color:"primary",onClick:r,className:n.button},"Apply"))}}]),t}(a.a.Component),kn=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({sidebar:{width:"20%"},checkbox:{display:"block",textAlign:"left"},expansionPanel:{borderTop:"1px solid rgba(224, 224, 224)"},expansionPanelLast:{borderTop:"1px solid rgba(224, 224, 224)",borderBottom:"1px solid rgba(224, 224, 224)"},button:{margin:e.spacing.unit}})})(Tn),jn=Object(Ie.createStyles)({listingsFilters:{top:"50px",left:0,bottom:0,width:"20%",position:"absolute",display:"inline-block"},listingsTable:{top:"50px",right:0,bottom:0,width:"80%",position:"absolute",display:"flex",flexDirection:"column",borderLeft:"1px solid rgba(224, 224, 224)"},filtersContainer:{margin:"auto",width:"80%"}}),Rn=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).onPageChange=function(e){e<0&&(e=0),n.props.setPage(e),n.props.fetchTableData()},n.onPageSizeChange=function(e){n.props.setPageSize(e),n.props.setPage(0),n.props.fetchTableData()},n.applyFilters=function(){var e=n.props,t=e.toDate,r=e.fromDate,a=e.fromPrice,o=e.toPrice,i=!1;(t&&!r||!t&&r)&&(n.props.enqueueSnackbar("Missing Date!",{variant:"error",autoHideDuration:4e3}),i=!0),t&&r&&r>t&&(n.props.enqueueSnackbar("Crossing Dates!",{variant:"error",autoHideDuration:4e3}),i=!0),(a&&a<0||o&&o<0)&&(n.props.enqueueSnackbar("Negative Price!",{variant:"error",autoHideDuration:4e3}),i=!0),a&&o&&a>o&&(console.log(a,o),n.props.enqueueSnackbar("Crossing Prices!",{variant:"error",autoHideDuration:4e3}),i=!0),i||(n.props.fetchTableData(),n.props.enqueueSnackbar("Filters Applied!",{variant:"success",autoHideDuration:4e3}))},n.clearFilters=function(){n.props.clearFilters(),n.props.fetchTableData(),n.props.enqueueSnackbar("Filters Cleared.",{variant:"info",autoHideDuration:4e3})},n.sortHandler=function(e,t){n.props.setOrder(t),n.props.setOrderBy(e),n.props.fetchTableData()},n.onFromDateChange=function(e){n.props.setFromDate(e)},n.onToDateChange=function(e){n.props.setToDate(e)},n.onFromPriceChange=function(e){n.props.setFromPrice(e)},n.onToPriceChange=function(e){n.props.setToPrice(e)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchFiltersData(),this.props.fetchTableData()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.roomTypeFilter,a=e.propertyTypeFilter,o=e.neighborhoodFilter,i=e.listings,c=e.pageSize,l=e.numberOfPages,u=e.totalCount,s=e.currentPage,d=e.fromDate,p=e.toDate,h=e.fromPrice,g=e.toPrice,f={roomTypeFilter:n,propertyTypeFilter:a,neighborhoodFilter:o},m=(i||[]).map(function(e){return{id:e.id,name:e.name,neighborhood:e.neighborhood,neighborhoodOverview:e.neighborhood_overview,price:e.price,type:{propertyType:e.propertytype,roomType:e.roomtype},accommodates:e.accommodates,rating:e.rating}});return r.createElement(wt,null,r.createElement("div",{className:t.listingsFilters},r.createElement("div",{className:t.filtersContainer},r.createElement(C.p,{style:{marginTop:"20px",textAlign:"center"},variant:"h6"},"Filters"),f&&r.createElement(kn,{filters:f,fromDate:d,toDate:p,fromPrice:h,toPrice:g,onFromDateChange:this.onFromDateChange,onToDateChange:this.onToDateChange,onFromPriceChange:this.onFromPriceChange,onToPriceChange:this.onToPriceChange,onPTChange:this.props.setPropertyTypeFilter,onRTChange:this.props.setRoomTypeFilter,onNgChange:this.props.setNeighborhoodFilter,onApply:this.applyFilters,onClear:this.clearFilters}))),r.createElement("div",{className:t.listingsTable},r.createElement(fn,{totalCount:u,numberOfPages:l,currentPage:s,pageSize:c,listings:m,onPageChange:this.onPageChange,onPageSizeChange:this.onPageSizeChange,onSort:this.sortHandler,order:this.props.order,orderBy:this.props.orderBy})))}}]),t}(r.Component),wn=Object(mn.withSnackbar)(Rn),xn=Object(Ie.withStyles)(jn)(wn),Pn=Object(y.b)(function(e){return{roomTypeFilter:e.listingsGrid.roomTypeFilter,propertyTypeFilter:e.listingsGrid.propertyTypeFilter,neighborhoodFilter:e.listingsGrid.neighborhoodFilter,listings:e.listingsGrid.listings,numberOfPages:e.listingsGrid.numberOfPages,totalCount:e.listingsGrid.totalCount,currentPage:e.listingsGrid.currentPage,pageSize:e.listingsGrid.pageSize,order:e.listingsGrid.order,orderBy:e.listingsGrid.orderBy,fromDate:e.listingsGrid.fromDate,toDate:e.listingsGrid.toDate,fromPrice:e.listingsGrid.fromPrice,toPrice:e.listingsGrid.toPrice}},function(e){return{fetchFiltersData:function(){return e(function(e){var t=te.getFiltersData();return t.then(function(t){var n={roomTypeFilter:{},propertyTypeFilter:{},neighborhoodFilter:{}};t.roomTypes.forEach(function(e){n.roomTypeFilter[e.id.toString()]=Object(W.a)({},e,{checked:!1})}),t.propertyTypes.forEach(function(e){n.propertyTypeFilter[e.id.toString()]=Object(W.a)({},e,{checked:!1})}),t.neighborhoods.forEach(function(e){n.neighborhoodFilter[e.id.toString()]=Object(W.a)({},e,{checked:!1})}),e(Oe(n))}).catch(function(t){e(Ce(t))}),t})},setNeighborhoodFilter:function(t,n){return e(function(e,t){return{type:"SET_NEIGHBORHOODS_FILTER",payload:{id:e,checked:t}}}(t,n))},setPropertyTypeFilter:function(t,n){return e(function(e,t){return{type:"SET_PROPERTY_TYPES_FILTER",payload:{id:e,checked:t}}}(t,n))},setRoomTypeFilter:function(t,n){return e(function(e,t){return{type:"SET_ROOM_TYPES_FILTER",payload:{id:e,checked:t}}}(t,n))},setPage:function(t){return e(function(e){return{type:"SET_PAGE",payload:e}}(t))},setPageSize:function(t){return e(function(e){return{type:"SET_PAGE_SIZE",payload:e}}(t))},setOrder:function(t){return e(function(e){return{type:"SET_ORDER",payload:e}}(t))},setOrderBy:function(t){return e(function(e){return{type:"SET_ORDERBY",payload:e}}(t))},setFromDate:function(t){return e({type:"SET_FROM_DATE",payload:t})},setToDate:function(t){return e({type:"SET_TO_DATE",payload:t})},setFromPrice:function(t){return e(function(e){return{type:"SET_FROM_PRICE",payload:e}}(t))},setToPrice:function(t){return e(function(e){return{type:"SET_TO_PRICE",payload:e}}(t))},clearFilters:function(){return e({type:"CLEAR_FILTERS"})},fetchTableData:function(){return e(function(e,t){var n=t().listingsGrid,r=n.currentPage,a=n.pageSize,o=n.propertyTypeFilter,i=n.roomTypeFilter,c=n.neighborhoodFilter,l=n.fromDate,u=n.toDate,s=n.fromPrice,d=n.toPrice,p=n.orderBy,h=n.order,g=a,f=r*a,m=Object.keys(o).filter(function(e){return o[e].checked}).map(function(e){return+e}),y=Object.keys(i).filter(function(e){return i[e].checked}).map(function(e){return+e}),b=Object.keys(c).filter(function(e){return c[e].checked}).map(function(e){return+e}),E=be["".concat(p,"_").concat(h)]||0,v=te.getAllListings(f,g,b,m,y,l,u,s,d,E);return v.then(function(t){e(Ee(t))}).catch(function(t){e(ve(t))}),v})}}})(xn),_n=n(512),Dn=n(130),An=n(6195),In=n(6196),Fn=n(510),Nn=(n(6179),function(e){return a.a.createElement(An.a,null,a.a.createElement(In.a,{data:e.data,margin:{top:20,right:20,bottom:20,left:20}},a.a.createElement(Fn.a,{label:{position:"insideStart",fill:"#fff"},background:!0,dataKey:"value"}),a.a.createElement(Ge.a,{iconSize:10,width:100,verticalAlign:"middle",layout:"horizontal",align:"right"})))}),Ln=n(6197),Hn=n(6198),Bn=n(187),zn=n(188),Gn=n(511),Un=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(An.a,null,a.a.createElement(Ln.a,{data:this.props.data,margin:{top:20,right:20,bottom:20,left:20}},a.a.createElement(Hn.a,null),a.a.createElement(Bn.a,{dataKey:"label"}),a.a.createElement(zn.a,{angle:30,domain:[0,150]}),a.a.createElement(Gn.a,{dataKey:"value",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})))}}]),t}(r.PureComponent),Kn=n(6201),Mn=n(289),Wn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(An.a,null,a.a.createElement(Kn.a,{data:this.props.data,margin:{top:20,right:20,bottom:20,left:20}},a.a.createElement(Je.a,{stroke:"#f5f5f5"}),a.a.createElement(qe.a,{dataKey:"name"}),a.a.createElement(Ye.a,null),a.a.createElement(Ue.a,null),a.a.createElement(Ge.a,null),a.a.createElement(Ve.a,{dataKey:"value",fill:"#413ea0"}),a.a.createElement(Mn.a,{type:"monotone",dataKey:"value",stroke:"#ff7300"})))}}]),t}(r.PureComponent),Jn=n(6199),qn=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return a.a.createElement(An.a,null,a.a.createElement(Jn.a,{data:this.props.data,margin:{top:20,right:20,bottom:20,left:20}},a.a.createElement(Je.a,{strokeDasharray:"3 3"}),a.a.createElement(qe.a,{dataKey:this.props.label}),a.a.createElement(Ye.a,null),a.a.createElement(Ue.a,null),a.a.createElement(Ge.a,null),a.a.createElement(Mn.a,{type:"monotone",dataKey:this.props.dataKey1,stroke:"#8884d8",activeDot:{r:8}}),a.a.createElement(Mn.a,{type:"monotone",dataKey:this.props.dataKey2,stroke:"#632428",activeDot:{r:8}}),a.a.createElement(Mn.a,{type:"monotone",dataKey:this.props.dataKey3,stroke:"#82ca9d"})))}}]),t}(r.PureComponent),Yn=n(212),Vn=n.n(Yn),Zn=n(211),Xn=n.n(Zn),$n=n(269),Qn=n.n($n),er=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleDrawer=function(e){n.setState({open:e})},n.onSelect=function(e){n.toggleDrawer(!1),n.props.onNgSelect(e)},n.state={open:!1},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,r=t.neighborhoods,o=this.state.open,i=a.a.createElement("div",null,a.a.createElement(Vn.a,null,r.map(function(t,n){return a.a.createElement(Xn.a,{button:!0,key:"neigh"+n,onClick:function(){return e.onSelect(t)}},a.a.createElement(Qn.a,{primary:t.name}))})));return a.a.createElement(a.a.Fragment,null,a.a.createElement(st.a,{onClick:function(){return e.toggleDrawer(!0)}},a.a.createElement(tt.a,null)),a.a.createElement(vt.a,{open:o,onClose:function(){return e.toggleDrawer(!1)},classes:n},a.a.createElement("div",{tabIndex:0,role:"button",onKeyDown:function(){return e.toggleDrawer(!1)}},i)))}}]),t}(a.a.Component),tr=Object(Ie.withStyles)(function(e){return Object(Ie.createStyles)({root:{zIndex:1302}})})(er),nr=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={neighborhoods:null,loading:!1,availabilityReports:null,priceReports:null,ratingReports:null},n.onSelect=n.onSelect.bind(Object(Dn.a)(Object(Dn.a)(n))),n.getReportsByNgId=n.getReportsByNgId.bind(Object(Dn.a)(Object(Dn.a)(n))),n.getTotalRatingData=n.getTotalRatingData.bind(Object(Dn.a)(Object(Dn.a)(n))),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;de.getAllNeighborhoodsSimple().then(function(t){t.length>0&&(e.setState({neighborhoods:t}),e.getReportsByNgId(t[0].id))}).catch(function(e){})}},{key:"getReportsByNgId",value:function(e){var t=this;this.setState({loading:!0});var n=de.getAllTypesOfRatingReportsByNgId(e),r=de.getAvailabilityReportsByNgId(e),a=de.getPriceReportsByNgId(e);Promise.all([n,r,a]).then(function(e){var n=Object(_n.a)(e,3),r=n[0],a=n[1],o=n[2];t.setState({ratingReports:r,availabilityReports:a,priceReports:o,loading:!1})})}},{key:"onSelect",value:function(e){this.getReportsByNgId(e.id)}},{key:"getTotalRatingData",value:function(){var e=this.state.ratingReports;if(null!==e)return[{name:"0-20",value:e.totalRating.filter(function(e){return e.rating&&e.rating>=0&&e.rating<=20}).reduce(function(e,t){return e+t.count},0),fill:"#8884d8"},{name:"21-40",value:e.totalRating.filter(function(e){return e.rating&&e.rating>=21&&e.rating<=40}).reduce(function(e,t){return e+t.count},0),fill:"#83a6ed"},{name:"41-60",value:e.totalRating.filter(function(e){return e.rating&&e.rating>=41&&e.rating<=60}).reduce(function(e,t){return e+t.count},0),fill:"#8dd1e1"},{name:"61-80",value:e.totalRating.filter(function(e){return e.rating&&e.rating>=61&&e.rating<=80}).reduce(function(e,t){return e+t.count},0),fill:"#82ca9d"},{name:"81-100",value:e.totalRating.filter(function(e){return e.rating&&e.rating>=81&&e.rating<=100}).reduce(function(e,t){return e+t.count},0),fill:"#a4de6c"},{name:"unknow",value:e.totalRating.filter(function(e){return!e.rating}).reduce(function(e,t){return e+t.count},0),fill:"#ffc658"}]}},{key:"getPriceRatingData",value:function(){var e=this.state.priceReports;if(null!==e){var t=Math.max(e.avgDailyPrice,e.avgMonthlyPrice,e.avgWeaklyPrice)+100;return t=Math.round(t),[{label:"Avg. daily price",value:Math.round(e.avgDailyPrice),fullMark:t},{label:"Avg. monthly price",value:Math.round(e.avgMonthlyPrice),fullMark:t},{label:"Avg. weekly price",value:Math.round(e.avgWeaklyPrice),fullMark:t}]}}},{key:"getAvailabilityReportData",value:function(){var e=this.state.availabilityReports;if(null!==e)return[{name:"0-30",value:e.availability.filter(function(e){return e.days&&e.days>=0&&e.days<=30}).reduce(function(e,t){return e+t.count},0)},{name:"31-60",value:e.availability.filter(function(e){return e.days&&e.days>=31&&e.days<=60}).reduce(function(e,t){return e+t.count},0)},{name:"61-90",value:e.availability.filter(function(e){return e.days&&e.days>=61&&e.days<=90}).reduce(function(e,t){return e+t.count},0)},{name:"91-120",value:e.availability.filter(function(e){return e.days&&e.days>=91&&e.days<=120}).reduce(function(e,t){return e+t.count},0)},{name:"121-150",value:e.availability.filter(function(e){return e.days&&e.days>=121&&e.days<=150}).reduce(function(e,t){return e+t.count},0)},{name:"151-180",value:e.availability.filter(function(e){return e.days&&e.days>=151&&e.days<=180}).reduce(function(e,t){return e+t.count},0)},{name:"181-210",value:e.availability.filter(function(e){return e.days&&e.days>=181&&e.days<=210}).reduce(function(e,t){return e+t.count},0)},{name:"211-240",value:e.availability.filter(function(e){return e.days&&e.days>=211&&e.days<=240}).reduce(function(e,t){return e+t.count},0)},{name:"241-270",value:e.availability.filter(function(e){return e.days&&e.days>=241&&e.days<=270}).reduce(function(e,t){return e+t.count},0)},{name:"271-300",value:e.availability.filter(function(e){return e.days&&e.days>=271&&e.days<=300}).reduce(function(e,t){return e+t.count},0)},{name:"301-330",value:e.availability.filter(function(e){return e.days&&e.days>=301&&e.days<=330}).reduce(function(e,t){return e+t.count},0)},{name:"331-365",value:e.availability.filter(function(e){return e.days&&e.days>=331&&e.days<=365}).reduce(function(e,t){return e+t.count},0)}]}},{key:"getAllTypesOfRatingRepor",value:function(){var e=this.state.ratingReports;if(null!==e)return[{name:"1",cleanliness:e.cleanliness.filter(function(e){return 1===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 1===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 1===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 1===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 1===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 1===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"2",cleanliness:e.cleanliness.filter(function(e){return 2===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 2===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 2===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 2===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 2===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 2===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"3",cleanliness:e.cleanliness.filter(function(e){return 3===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 3===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 3===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 3===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 3===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 3===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"4",cleanliness:e.cleanliness.filter(function(e){return 4===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 4===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 4===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 4===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 4===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 4===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"5",cleanliness:e.cleanliness.filter(function(e){return 5===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 5===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 5===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 5===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 5===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 5===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"6",cleanliness:e.cleanliness.filter(function(e){return 6===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 6===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 6===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 6===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 6===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 6===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"7",cleanliness:e.cleanliness.filter(function(e){return 7===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 7===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 7===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 7===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 7===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 7===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"8",cleanliness:e.cleanliness.filter(function(e){return 8===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 8===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 8===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 8===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 8===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 8===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"9",cleanliness:e.cleanliness.filter(function(e){return 9===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 9===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 9===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 9===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 9===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 9===e.rating}).reduce(function(e,t){return e+t.count},0)},{name:"10",cleanliness:e.cleanliness.filter(function(e){return 10===e.rating}).reduce(function(e,t){return e+t.count},0),checkin:e.checkin.filter(function(e){return 10===e.rating}).reduce(function(e,t){return e+t.count},0),value:e.value.filter(function(e){return 10===e.rating}).reduce(function(e,t){return e+t.count},0),accuracy:e.cleanliness.filter(function(e){return 10===e.rating}).reduce(function(e,t){return e+t.count},0),location:e.cleanliness.filter(function(e){return 10===e.rating}).reduce(function(e,t){return e+t.count},0),communication:e.cleanliness.filter(function(e){return 10===e.rating}).reduce(function(e,t){return e+t.count},0)}]}},{key:"render",value:function(){var e={boxSizing:"border-box",padding:"10px",width:"auto",height:"500px",backgroundColor:"#fff"},t=this.state,n=t.neighborhoods,a=t.loading,o=this.getTotalRatingData(),i=this.getPriceRatingData(),c=this.getAvailabilityReportData(),l=this.getAllTypesOfRatingRepor();return r.createElement(r.Fragment,null,r.createElement(wt,{position:"relative"},a&&r.createElement("div",{style:{textAlign:"center",marginTop:"50px"}},r.createElement(C.e,{color:"primary",size:65})),!a&&n&&r.createElement("div",null,r.createElement(tr,{onNgSelect:this.onSelect,neighborhoods:n})),!a&&r.createElement("div",null,r.createElement(C.j,{container:!0,direction:"row",justify:"center",alignItems:"center"},o&&r.createElement(C.j,{item:!0,md:6},r.createElement("h3",{style:{textAlign:"center"}},"Rating reports"),r.createElement("div",{style:e},r.createElement(Nn,{data:o}))),i&&r.createElement(C.j,{item:!0,md:6},r.createElement("h3",{style:{textAlign:"center"}},"Price reports"),r.createElement("div",{style:e},r.createElement(Un,{data:i}))),l&&r.createElement(C.j,{item:!0,md:6},r.createElement("h3",{style:{textAlign:"center"}},"Cleanliness, Location, Checkin"),r.createElement("div",{style:e},r.createElement(qn,{data:l,label:"name",dataKey1:"cleanliness",dataKey2:"location",dataKey3:"checkin"}))),c&&r.createElement(C.j,{item:!0,md:6},r.createElement("h3",{style:{textAlign:"center"}},"Availability reports"),r.createElement("div",{style:e},r.createElement(Wn,{data:c}))),l&&r.createElement(C.j,{item:!0,md:6},r.createElement("h3",{style:{textAlign:"center"}},"Communication, Value, Accuracy"),r.createElement("div",{style:e},r.createElement(qn,{data:l,label:"name",dataKey1:"communication",dataKey2:"value",dataKey3:"accuracy"})))))))}}]),t}(r.Component),rr=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).trySilentAuth=function(){xe.dispatch(x())},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(l.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xe.getState(),!w(t)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,this.trySilentAuth();case 6:this.forceUpdate(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),"login_required"!==e.t0.error&&console.log(e.t0.error);case 12:case"end":return e.stop()}},e,this,[[3,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.createElement(r.Fragment,null,r.createElement(g.a,null,r.createElement(f.a,{exact:!0,path:"/callback",component:U}),r.createElement(f.a,{exact:!0,path:"/dashboard",component:_t}),r.createElement(B,{path:"/listings",component:Pn}),r.createElement(B,{path:"/reports",component:nr}),r.createElement(m.a,{to:"/dashboard"})))}}]),t}(r.Component),ar=(n(6185),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function or(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ir=n(6202);o.render(r.createElement(y.a,{store:xe},r.createElement(ir.a,{basename:"/airbnb-stats-web"},r.createElement(mn.SnackbarProvider,{maxSnack:3},r.createElement(rr,null)))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/airbnb-stats-web",window.location.toString()).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/airbnb-stats-web","/service-worker.js");ar?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):or(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):or(e)})}}()}},[[5784,1,2]]]);
//# sourceMappingURL=main.a8ec86a6.chunk.js.map